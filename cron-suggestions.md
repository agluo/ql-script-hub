# 签到脚本Cron时间建议

为了避免所有用户在同一时间执行签到，降低服务器压力并提高成功率，建议使用以下错开的时间配置：

## 🎯 推荐配置

### 基本配置（避开高峰期）
```bash
# 什么值得买签到 - 早上8点随机
0 */10 8 * * *

# 百度贴吧签到 - 早上9点随机  
0 */15 9 * * *

# IKuuu机场签到 - 早上10点随机
0 */12 10 * * *

# 恩山论坛签到 - 早上8点30分随机
0 */8 8 * * *

# 夸克网盘签到 - 早上9点30分随机
0 */18 9 * * *

# 爱奇艺签到 - 早上7点随机
0 */25 7 * * *

# 微博签到 - 早上8点15分随机
0 */20 8 * * *
```

### 完全随机配置（推荐）
使用以下脚本生成的随机时间，每次部署时重新生成：

```javascript
// 在青龙面板控制台执行以下代码生成随机Cron
const CommonUtils = require('./utils/common');
const suggestions = CommonUtils.generateCronSuggestions();
console.log('建议Cron配置：');
Object.entries(suggestions).forEach(([platform, cron]) => {
    console.log(`${platform}: ${cron}`);
});
```

## 🔧 环境变量配置

### 启用随机启动延时
在青龙面板环境变量中配置：

```bash
# 启用随机启动延时（默认启用）
RANDOM_START_ENABLED=true

# 随机延时范围（秒）
RANDOM_START_MIN=0      # 最小延时0秒
RANDOM_START_MAX=1800   # 最大延时30分钟

# 示例：设置5-15分钟随机延时
RANDOM_START_MIN=300    # 5分钟
RANDOM_START_MAX=900    # 15分钟
```

## 📅 时间分布策略

### 早上时段分布
- **7:00-7:59**: 爱奇艺（视频平台，用户较少）
- **8:00-8:29**: 什么值得买、恩山论坛
- **8:30-8:59**: 微博签到
- **9:00-9:29**: 百度贴吧
- **9:30-9:59**: 夸克网盘
- **10:00-10:29**: IKuuu机场

### 分散策略优势
1. **降低服务器压力**: 避免同时访问
2. **提高成功率**: 减少并发冲突
3. **避免风控**: 模拟人工操作时间
4. **网络优化**: 避开网络高峰期

## 🎲 手动生成随机时间

### 在线Cron生成器
推荐使用在线工具生成随机Cron表达式：
- [Cron Expression Generator](https://crontab.guru/)
- [Cron Maker](https://www.cronmaker.com/)

### 手动计算公式
```
秒数: 0-59随机
分钟: 0-59随机  
小时: 根据平台错开
日: * (每天)
月: * (每月)
周: * (每周)
```

## ⚠️ 注意事项

1. **不要设置过于频繁**: 避免被平台检测为异常
2. **考虑时区**: 确保时间设置符合平台服务器时区
3. **定期调整**: 建议每月更换一次执行时间
4. **监控日志**: 关注签到成功率，及时调整策略
5. **备用时间**: 为重要平台设置备用执行时间

## 🚀 青龙面板配置示例

```bash
# 任务名称: 什么值得买签到
# Cron表达式: 23 18 8 * * *
# 命令: task smzdm_checkin.js

# 任务名称: 百度贴吧签到  
# Cron表达式: 45 25 9 * * *
# 命令: task tieba_checkin.js

# 任务名称: 夸克网盘签到
# Cron表达式: 12 42 9 * * *  
# 命令: task quark_checkin.js
```

## 📊 执行时间监控

建议在日志中记录实际执行时间，用于优化调整：

```javascript
// 脚本开始时记录
console.log(`[${new Date().toLocaleString()}] 脚本开始执行`);

// 随机延时后记录
console.log(`[${new Date().toLocaleString()}] 随机延时完成，开始签到`);
```

---

> 💡 **提示**: 使用随机时间配置不仅能提高签到成功率，还能降低被平台检测的风险。建议根据个人使用习惯和网络环境适当调整时间设置。